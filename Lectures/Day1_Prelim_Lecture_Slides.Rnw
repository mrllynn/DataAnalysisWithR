\documentclass{beamer}

% *****************************************************************************
% ADD HERE THE TOPIC OF THE LECTURE!
% \newcommand{\lecturetopic}{ALL LECTURE SLIDES}
\newcommand{\lecturetopic}{Day 1 - preliminary - Lecture Slides}
% *****************************************************************************

<<echo = FALSE, eval = TRUE>>=
data_dir <- "../Exercises/data"
@

% turn off navigation symbols
\beamertemplatenavigationsymbolsempty

\title{\textbf{Data Analysis with R:} \\ \lecturetopic}
\author{Sonja Hartnack, Terence Odoch \& Muriel Buri}
\vspace{0.3cm}
\footnotesize
\institute{October 2018}
\date{ }

\setbeamertemplate{footline}[text line]{%
\parbox{\linewidth}{\vspace*{-1pt} \fontsize{3.5}{5}\selectfont Sonja Hartnack,
Terence Odoch \& Muriel Buri \hfill \lecturetopic \hfill \insertpagenumber}}

\usepackage{graphicx}
\usepackage{float}
\usepackage{animate}

\usepackage{verbatim}
\usepackage{url}
\usepackage{lmodern}
\usepackage{fancyhdr}
\usepackage{color}
\usepackage{amsmath, amssymb}
\usepackage{longtable}
\usepackage{lscape}
\usepackage{xspace}
\usepackage[normalem]{ulem}
% Use Palatino (URW Palladio) for most of the text\ldots
\usepackage[sc]{mathpazo}
% And Arial for the rest
\usepackage[scaled]{helvet}
\usepackage[latin1]{inputenc}
\usepackage{multicol} % A flexible tool to handle multicolumn documents
\usepackage{colortbl, xcolor} % enable colored rows in table
\usepackage{color} % enable colored rows in table
\usepackage{bibentry} % Include Full BibTeX Entry Inside Slides
\usepackage{nicefrac}
\usepackage{soul}

\setbeamertemplate{itemize items}[circle]

\usepackage{array}
\newcolumntype{L}[1]{>{\raggedright\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{C}[1]{>{\centering\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{R}[1]{>{\raggedleft\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}

\graphicspath{{slides_figures/}}
\usepackage[export]{adjustbox} % figure alignment
\usepackage{wrapfig} % allow for wrapfigure
\usepackage[margin=1cm]{caption}
\captionsetup{font=scriptsize, labelfont=scriptsize}

% change font family in footnote
\usepackage{footmisc}
\renewcommand*{\footnotelayout}{\tiny\sffamily}
% \renewcommand*{\footnotelayout}{\fontsize{3.5}{5}\selectfont\sffamily}

% change footer symbol
\usepackage{perpage}
\MakePerPage{footnote}
\renewcommand*{\thefootnote}{$\star$}

% change font sizes of frametitles
\setbeamerfont{frametitle}{size=\normalsize, series=\bfseries}
\setbeamerfont{framesubtitle}{size=\small, series=\bfseries}

% Settings for the references
\usepackage{natbib}
\usepackage{bibentry} % Include Full BibTeX Entry Inside Slides

% Writting the whole reference in ONE line.
% \def\newblock{\hskip .5em plus .33em minus .07em}

\setbeamerfont{title}{size=\LARGE}

\makeatletter
\def\mathcolor#1#{\@mathcolor{#1}}
\def\@mathcolor#1#2#3{%
\protect\leavevmode
\begingroup\color#1{#2}#3\endgroup
}
\makeatother

% *****************************************************************************

% {\usebackgroundtemplate{\includegraphics[width=\paperwidth]{Printscreen_RLogo.png}}
{\usebackgroundtemplate{}}
\begin{document}

\bibliographystyle{plainnat}

% *****************************************************************************
% TITLE PAGE:
% *****************************************************************************

\begin{frame}[fragile][noframenumbering,plain]
\begin{columns}
\begin{column}{.3\linewidth}
\begin{center}
\includegraphics[height=.35\linewidth, width = 1.1\linewidth]{UZH_logo.png}
\end{center}
\end{column}
\begin{column}{0.2\linewidth}
\end{column}
\begin{column}{.3\linewidth}
\begin{center}
\includegraphics[height=.45\linewidth, width = .65\linewidth]{Makerere_logo.jpeg}
\end{center}
\end{column}
\end{columns}
\titlepage
\end{frame}

% *****************************************************************************
 
\section{Day 1}
\usebackgroundtemplate{}
\begin{frame}[fragile]
\frametitle{Goals of the course}
To be able to...
\begin{itemize}
\setlength\itemsep{1.5em}
\item import data sets to R
\item describe data with R
\item apply basic statistical tests in R
\item some ideas for more advanced statistical tools ...
\item simulate a data set similar to own research
\end{itemize}
\end{frame}

% *****************************************************************************

\begin{frame}[fragile]
\frametitle{General remarks}
\textbf{Course schedule:}
\begin{itemize}
\item Starting at 9:00am / 9:30am (?)
\item Tea breaks in between
\item Lunch break
\item Teaching until 4.30pm ($\sim$ 5pm)
\end{itemize}
%
\vspace*{0.5cm}
\textbf{Optaining a certificate is conditional on ...} 
\begin{itemize}
\item active participation in class
\item attending at least 75 \% of the course (lecture \& exercises)
\item short final exam (format to be defined)
\end{itemize}
\end{frame}

% *****************************************************************************

\begin{frame}[fragile]
\frametitle{Getting to know each other}
\begin{itemize}
\setlength\itemsep{1.5em}
\item My name is ...
\item I am doing a Master / a PhD in ...
\item I hope to learn in this course how to ....
\item My personal goal for this course is ...
\end{itemize}
% REASON TO BE HERE
% (1) I love statistics and I am keen to learn more about it.
% (2) I am happy to be here but fear that I will be a bit overwhelmed.
% (3) I am here because my supervisor told me to be here.
% (PRE-)EXPERIENCE IN R
% (1) I have worked with R before and feel somehow familiar with it.
% (2) I have never worked with R before.
% (3) What is R?
\end{frame}

% *****************************************************************************

\begin{frame}[fragile]
\frametitle{How do we reach these goals}
\begin{itemize}
\setlength\itemsep{1.2em}
\item hands on exercises with R:
\begin{itemize}
\item \texttt{chickwts}
\item \texttt{ToothGrowth}
\item \texttt{bacteria}
\item \texttt{perulung}
\item ... and others.
\end{itemize}
\item interactive discussions \& presentations of student solutions
\item asking a lot of questions: ask google!
\item group work
\item short motivational lectures
\end{itemize}
\end{frame}

% *****************************************************************************

\begin{frame}[fragile]
\frametitle{Get started with data set: chickwts}

An experiment was conducted to measure and compare the effectiveness of various
feed supplements on the growth rate of chickens.

<<echo=TRUE, eval=TRUE, size="scriptsize">>=
data(chickwts)
head(chickwts)
@
\end{frame}
%
% *****************************************************************************

\begin{frame}[fragile]
\frametitle{Ideas for plotting the data}
\pause
<<echo=TRUE, eval=TRUE, size="scriptsize", out.width = "60%", fig.align="center">>=
boxplot(weight ~ feed, data = chickwts)
@
% EXERCISE IDEAS
% <<echo=TRUE, eval=TRUE, size="scriptsize">>=
% # hist(chickwts$weight, prob = TRUE)
% # lines(density(chickwts$weight), col = "red", lwd = 2)
% @
\end{frame}

% *****************************************************************************

\begin{frame}[fragile]
\frametitle{Ideas for analysing the data}
\pause
<<echo=TRUE, eval=TRUE, size="scriptsize">>=
summary(aov(weight ~ feed, data = chickwts))
@
\end{frame}

% *****************************************************************************

{\usebackgroundtemplate{\includegraphics[width=\paperwidth]{Printscreen_RLogo.png}}
\begin{frame}[fragile]
\frametitle{Functionalities in R and RStudio}
\framesubtitle{A hands on example}
<<echo=TRUE, eval=FALSE, size="scriptsize">>=
x <- c(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10)
y <- c(20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30)
plot(x, y)
@
\end{frame}

% *****************************************************************************

{\usebackgroundtemplate{\includegraphics[width=\paperwidth]{Printscreen_RLogo.png}}
\begin{frame}[fragile]
\frametitle{Functionalities in R and RStudio}
\begin{itemize}
\item Source
\item Console
\item Environment, History, Files
\item Files, Plots, Packages, Help
\end{itemize}
%
\begin{center}
\includegraphics[width=0.5\paperwidth]{Printscreen_RStudio_Screen.png}
\end{center}
%
\end{frame}

% *****************************************************************************

{\usebackgroundtemplate{\includegraphics[width=\paperwidth]{Printscreen_RLogo.png}}
\begin{frame}[fragile]
\frametitle{Good housekeeping!}
\begin{itemize}
\setlength\itemsep{1.5em}
\item Define manually a new folder called \textbf{RCourse} in your personal documents
on your personal computer
\item Know in which directory you are
<<echo=TRUE, eval=TRUE, size="scriptsize">>=
getwd()
@
\item Set directory path
<<echo=TRUE, eval=FALSE, size="scriptsize">>=
# back- and forslash is dependent on the system
setwd("C:/Users/muriel/Documents/RCourse/")
setwd("C:\\Users\\muriel\\Documents\\RCourse\\")
@
\item Always clean up before starting with new R-Script
<<echo=TRUE, eval=TRUE, size="scriptsize">>=
rm(list=ls()) # empty workspace, delete previously saved variables
@
\end{itemize}
\end{frame}

% *****************************************************************************

\begin{frame}[fragile]
\frametitle{How to get help in R}
<<echo=TRUE, eval=FALSE, size="scriptsize">>=
?chickwts
@
Also, have a look at the examples at the end of the help pages.
\end{frame}

% *****************************************************************************

\begin{frame}[fragile]
\frametitle{Exercise 1}
\end{frame}


% *****************************************************************************

\begin{frame}[fragile]
\frametitle{A data frame in R: \texttt{chickwts}}
\begin{center}
\includegraphics[width = 1.1\linewidth]{Printscreen_Data_Frame_in_R.png}
\end{center}
\end{frame}

% *****************************************************************************

\begin{frame}[fragile]
\frametitle{Rows and columns of a data frame: \texttt{chickwts}}
Values of ...
<<echo=TRUE, eval=FALSE, size="scriptsize">>=
# ... all columns of sixth observation:
chickwts[6, ]

# ... all columns of sixth to eleventh observation:
chickwts[6:11, ]

# ... all columns of sixth, eleventh and twentieth observation:
chickwts[c(6, 11, 20), ]

# ... all rows of first column (weight):
chickwts[ , 1]

# ... all rows of second column (feed):
chickwts[ , 2]
# or use the "$" sign as a reference to column "feed":
chickwts$feed
@
\end{frame}

% *****************************************************************************

\begin{frame}[fragile]
\frametitle{What is a data frame in R?}
A data frame is used for storing a list of vectors of equal length.
For example, the following variable \texttt{df} is a data frame containing
three vectors \texttt{n}, \texttt{s}, \texttt{b}.
<<echo=TRUE, eval=TRUE, size="scriptsize">>=
n <- c(2, 3, 5)
s <- c("aa", "bb", "cc")
b <- c(TRUE, FALSE, TRUE)
df <- data.frame(n, s, b) # df is a data frame
@
Following are the characteristics of a data frame:
\begin{itemize}
\item The column names should be non-empty.
\item The row names should be unique.
% \item The data stored in a data frame can be of numeric, factor or character type.
\item Each column should contain same number of data items.
\end{itemize}
\end{frame}

% *****************************************************************************

\begin{frame}[fragile]
\frametitle{Data frame in R}
<<echo=TRUE, eval=TRUE, size="scriptsize">>=
a <- c(1, 2, 3, 4)
a
data.frame(a)
b <- c("d", "h", "h", "d")
dat <- data.frame(a, b)
dat
@
\end{frame}

% *****************************************************************************

\begin{frame}[fragile]
\frametitle{Data frame in R: How to add a variable (var)}
<<echo=TRUE, eval=TRUE, size="scriptsize">>=
my.var <- c(1.3, 1.5, 1.8, 2.4)
# use "$" to refer to the additional vector variable
dat$my.var1 <- my.var
dat$my.var2 <- my.var
dat
# What is the dimension (number of rows and columns) of our data frame?
dim(dat) # 4 rows and 3 columns
@
\end{frame}

% *****************************************************************************

\begin{frame}[fragile]
\frametitle{Exercise 2}
\end{frame}

% *****************************************************************************

\usebackgroundtemplate{}
\begin{frame}[fragile]
\frametitle{How to install a package (manually) in R}
\begin{columns}[t]
\column{.5\textwidth}
\centering
\includegraphics[width=1.25\textwidth]{Load_MASS_package1.png}
\column{.5\textwidth}
\includegraphics[width=0.8\textwidth]{Load_MASS_package2.png} 
\end{columns}
\vspace*{0.5cm}
\begin{center}
\includegraphics[width=0.5\textwidth]{Load_MASS_package3.png} 
\end{center}
\end{frame}

% *****************************************************************************

\usebackgroundtemplate{}
\begin{frame}[fragile]
\frametitle{Using R is like cooking ...}
\begin{center}
\includegraphics[width=0.85\textwidth]{cooking_with_R.png} 
\end{center}
\end{frame}

% *****************************************************************************

{\usebackgroundtemplate{\includegraphics[width=\paperwidth]{Printscreen_RLogo.png}}
\begin{frame}[fragile]
\frametitle{How to install a package in R}
<<echo=TRUE, eval=FALSE, size="scriptsize">>=
# INSTALL package (only done ONCE!)
install.packages("MASS")
# LOAD package (whenever you use something from it!)
library("MASS")
data(bacteria)
?bacteria
@
\end{frame}

% *****************************************************************************

\begin{frame}[fragile]
\frametitle{Exercise 3}
\end{frame}

\end{document}

